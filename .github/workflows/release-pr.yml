name: Release
on:
  workflow_dispatch:
    inputs:
      pull_request_number:
        description: Pull request to release
        type: number
        required: true
jobs:
  release:
    permissions:
      pull-requests: write
    uses: nilsgstrabo/learnrelease/.github/workflows/template-release-pr.yml@main
    with:
      pull_request_number: ${{ inputs.pull_request_number }}
  result:
    runs-on: ubuntu-latest
    needs: release
    steps:
      - name: Print release outcome
        run: |
          echo "version: ${{ needs.release.outputs.version }}"
          echo "tag: ${{ needs.release.outputs.tag }}"
          echo "is_prerelease: ${{ needs.release.outputs.is_prerelease }}"
          echo "commit: ${{ needs.release.outputs.commit }}"
    